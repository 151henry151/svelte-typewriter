import{a as s,b as p,c as f}from"../chunk.KEGSSE5H.mjs";import"../chunk.E4LFTDIS.mjs";var l=async(r,e)=>{e.dispatch("done"),await p(typeof e.loop=="number"?e.loop:1500);let t=r.innerHTML.replaceAll("&amp;","&");for(let n=t.length-1;n>=0;n--)t[n]===">"&&(n=t.lastIndexOf("<",n)),r.innerHTML=t.slice(0,n),await p(e.interval)},i=[],a=r=>{for(;;){let e=s(0,r.length),t=typeof i=="number"&&e!==i;if(Array.isArray(i)&&!i.includes(e)||t)return t&&(i=[]),i.push(e),r[e];i.length===r.length&&(i=i.pop())}},m=async({currentNode:r,text:e},t)=>{await f({currentNode:r,text:e},t);let n=e.replaceAll("&","&amp;");r.innerHTML===n&&await l(r,t)},y=async(r,e)=>{for(;;)if(e.loop)for(let t of r)await m(t,e);else if(e.loopRandom){let t=a(r);await m(t,e)}};export{y as mode};
