const t=t=>new Promise(e=>setTimeout(e,t)),e=t=>1===t.childNodes.length&&3===t.childNodes[0].nodeType,n=async e=>{return t(e[(n=0,o=e.length,Math.floor(Math.random()*(o-n)+n))]||e);var n,o},o=t=>{if(e(t)){const e=t.textContent.split("");t.textContent="";const n=document.createElement("p");return t.appendChild(n),[{currentNode:n,text:e}]}return[...t.getElementsByTagName("*")].filter(t=>e(t)).map(t=>({currentNode:t,text:t.textContent.split("")}))},a=async({currentNode:e,text:o},a)=>{e.textContent="",e.classList.add("typing");for(const r of o){e.textContent+=r;if(a.loop&&e.textContent===o.join("")){for(a.dispatch("done"),await t("number"==typeof a.loop?a.loop:1500);""!==e.textContent;)e.textContent=e.textContent.slice(0,-1),await n(a.interval);return}await n(a.interval)}null===e.nextSibling&&a.cascade||(1==e.classList.length?e.removeAttribute("class"):e.classList.remove("typing"))};export{o as g,a as t};
