import{cleanChildNodes as e}from"../helpers/cleanChildNodes.js";import{createElement as t}from"../helpers/createElement.js";import{rng as r}from"../helpers/rng.js";import{writeEffect as o}from"../helpers/writeEffect.js";let n=[];const s=e=>{for(;;){const t=r(0,e.length),o="number"==typeof n&&t!==n;if(Array.isArray(n)&&!n.includes(t)||o){o&&(n=[]),n.push(t);return e[t]}n.length===e.length&&(n=n.pop())}};export default async({node:r,elements:n},a)=>{for(;a.loopRandom;){const{currentNode:l,text:p}=s(n);e(r);const m=l.tagName.toLowerCase(),i=t(p,m);[...l.attributes].forEach((({name:e,value:t})=>i.setAttribute(e,t))),r.appendChild(i),await o({currentNode:i,text:p},a),e(r)}};
