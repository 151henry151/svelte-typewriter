import{cleanChildNodes as e}from"../helpers/cleanChildNodes.js";import{createElement as t}from"../helpers/createElement.js";import{hasSingleTextNode as r}from"../helpers/hasSingleTextNode.js";import{loopTypewriterEffect as o}from"../helpers/loopTypewriterEffect.js";import{rng as s}from"../helpers/rng.js";let n=[];const l=e=>{for(;;){const t=s(0,e.length),o="number"==typeof n&&t!==n;if(Array.isArray(n)&&!n.includes(t)||o){o&&(n=[]),n.push(t);return e[t]}n.length===e.length&&(n=r?[]:n.pop())}};export default async({node:r,elements:s},n)=>{for(;n.loopRandom;){const{currentNode:p,text:a}=l(s);e(r);const m=p.tagName.toLowerCase(),i=t(a,m);[...p.attributes].forEach((({name:e,value:t})=>i.setAttribute(e,t))),r.appendChild(i),await o({currentNode:i,text:a},n),e(r)}};
