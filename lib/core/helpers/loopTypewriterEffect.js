import{sleep as t}from"./sleep.js";import{typingInterval as e}from"./typingInterval.js";import{unwriteEffect as n}from"./unwriteEffect.js";import{hideCursorOnAnimationEnd as o}from"./hideCursorOnAnimationEnd.js";const r=async({currentNode:r,text:i},a)=>{r.textContent="",r.classList.add("typing");for(let o=0;o<=i.length;o++){"<"===i[o]&&(o=i.indexOf(">",o)+1),r.innerHTML=i.slice(0,o);const p=i.replaceAll("&","&amp;");r.innerHTML===p&&(a.dispatch("done"),await t("number"==typeof a.loop?a.loop:1500),await n(r,a)),await e(a.interval)}o(r)};export{r as loopTypewriterEffect};
