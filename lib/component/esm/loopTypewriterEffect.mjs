import{s as t,e}from"./typingInterval.mjs";const n=async(e,n)=>{const l=e.innerHTML.replaceAll("&amp;","&");for(let a=l.length-1;a>=0;a--)">"===l[a]&&(a=l.lastIndexOf("<",a)),e.innerHTML=l.slice(0,a),await t(n.interval)},l=async({currentNode:l,text:a},i)=>{l.textContent="",l.classList.add("typing");for(let s=0;s<=a.length;s++){"<"===a[s]&&(s=a.indexOf(">",s)+1),l.innerHTML=a.slice(0,s);const r=a.replaceAll("&","&amp;");l.innerHTML===r&&(i.dispatch("done"),await e("number"==typeof i.loop?i.loop:1500),await n(l,i)),await t(i.interval)}null!==l.nextSibling&&1==l.classList.length?l.removeAttribute("class"):l.classList.remove("typing")};export{n as e,l as i};
