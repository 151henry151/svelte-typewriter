!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Typewriter=t()}(this,(function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(e,t,n,o){return e[1]&&o?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](o(t))):n.ctx}function s(e,t,n,o,r,c,s){const a=function(e,t,n,o){if(e[2]&&o){const r=e[2](o(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|r[o];return e}return t.dirty|r}return t.dirty}(t,o,r,c);if(a){const r=i(t,n,o,s);e.p(r,a)}}function a(e){e.parentNode.removeChild(e)}function l(e){return document.createElement(e)}function u(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}function d(e,t,n){e.classList[n?"add":"remove"](t)}let f;function p(e){f=e}function m(){const e=function(){if(!f)throw new Error("Function called outside component initialization");return f}();return(t,n)=>{const o=e.$$.callbacks[t];if(o){const r=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);o.slice().forEach((t=>{t.call(e,r)}))}}}const h=[],y=[],g=[],$=[],b=Promise.resolve();let v=!1;function w(e){g.push(e)}let x=!1;const _=new Set;function E(){if(!x){x=!0;do{for(let e=0;e<h.length;e+=1){const t=h[e];p(t),L(t.$$)}for(p(null),h.length=0;y.length;)y.pop()();for(let e=0;e<g.length;e+=1){const t=g[e];_.has(t)||(_.add(t),t())}g.length=0}while(h.length);for(;$.length;)$.pop()();v=!1,x=!1,_.clear()}}function L(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(w)}}const T=new Set;function M(e,t){e&&e.i&&(T.delete(e),e.i(t))}function N(e,t){-1===e.$$.dirty[0]&&(h.push(e),v||(v=!0,b.then(E)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function k(c,i,s,l,u,d,m=[-1]){const h=f;p(c);const y=i.props||{},g=c.$$={fragment:null,ctx:null,props:d,update:e,not_equal:u,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:n(),dirty:m,skip_bound:!1};let $=!1;if(g.ctx=s?s(c,y,((e,t,...n)=>{const o=n.length?n[0]:t;return g.ctx&&u(g.ctx[e],g.ctx[e]=o)&&(!g.skip_bound&&g.bound[e]&&g.bound[e](o),$&&N(c,e)),t})):[],g.update(),$=!0,o(g.before_update),g.fragment=!!l&&l(g.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);g.fragment&&g.fragment.l(e),e.forEach(a)}else g.fragment&&g.fragment.c();i.intro&&M(c.$$.fragment),function(e,n,c){const{fragment:i,on_mount:s,on_destroy:a,after_update:l}=e.$$;i&&i.m(n,c),w((()=>{const n=s.map(t).filter(r);a?a.push(...n):o(n),e.$$.on_mount=[]})),l.forEach(w)}(c,i.target,i.anchor),E()}p(h)}const C=(e,t)=>{const n=document.createElement(t);return n.textContent=e,n},A=e=>1===e.childNodes.length&&3===e.childNodes[0].nodeType,H=e=>{if(A(e)){const t=e.textContent,n=C(e.textContent,"p");return e.textContent="",e.appendChild(n),[{currentNode:n,text:t}]}return[...e.children].map((e=>{const t=e.innerHTML.replaceAll("&amp;","&");return{currentNode:e,text:t}}))},j=async(e,t)=>{const{mode:n}=(t.loop||t.loopRandom)&&await Promise.resolve().then((function(){return G}))||t.scramble&&await Promise.resolve().then((function(){return W}))||await Promise.resolve().then((function(){return Y})),o=H(e);if(t.delay>0){const{sleep:n}=await Promise.resolve().then((function(){return ee}));await n(t.delay),e.classList.remove("delay")}n({node:e,elements:o},t)};function O(t){let n,o,c,f,p;const m=t[9].default,h=function(e,t,n,o){if(e){const r=i(e,t,n,o);return e[0](r)}}(m,t,t[8],null);return{c(){var e,o,r;n=l("div"),h&&h.c(),e=n,o="class",null==(r="typewriter-container svelte-153c48w")?e.removeAttribute(o):e.getAttribute(o)!==r&&e.setAttribute(o,r),u(n,"--cursor-color","string"==typeof t[0]?t[0]:"black"),d(n,"cursor",t[0]),d(n,"delay",t[1].delay>0)},m(i,s){var a;!function(e,t,n){e.insertBefore(t,n||null)}(i,n,s),h&&h.m(n,null),c=!0,f||(a=o=j.call(null,n,t[1]),p=a&&r(a.destroy)?a.destroy:e,f=!0)},p(e,[t]){h&&h.p&&256&t&&s(h,m,e,e[8],t,null,null),(!c||1&t)&&u(n,"--cursor-color","string"==typeof e[0]?e[0]:"black"),o&&r(o.update)&&2&t&&o.update.call(null,e[1]),1&t&&d(n,"cursor",e[0]),2&t&&d(n,"delay",e[1].delay>0)},i(e){c||(M(h,e),c=!0)},o(e){!function(e,t,n,o){if(e&&e.o){if(T.has(e))return;T.add(e),(void 0).c.push((()=>{T.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}(h,e),c=!1},d(e){e&&a(n),h&&h.d(e),f=!1,p()}}}function P(e,t,n){let{$$slots:o={},$$scope:r}=t,{interval:c=30}=t,{cascade:i=!1}=t,{loop:s=!1}=t,{loopRandom:a=!1}=t,{scramble:l=!1}=t,{cursor:u=!0}=t,{delay:d=0}=t;const f=m();let p;return e.$$set=e=>{"interval"in e&&n(2,c=e.interval),"cascade"in e&&n(3,i=e.cascade),"loop"in e&&n(4,s=e.loop),"loopRandom"in e&&n(5,a=e.loopRandom),"scramble"in e&&n(6,l=e.scramble),"cursor"in e&&n(0,u=e.cursor),"delay"in e&&n(7,d=e.delay),"$$scope"in e&&n(8,r=e.$$scope)},e.$$.update=()=>{253&e.$$.dirty&&n(1,p={interval:c,cascade:i,loop:s,loopRandom:a,scramble:l,cursor:u,delay:d,dispatch:f})},[u,p,c,i,s,a,l,d,r,o]}const R=(e,t)=>Math.floor(Math.random()*(t-e)+e),z=e=>new Promise((t=>setTimeout(t,e))),I=async e=>z(Array.isArray(e)?e[R(0,e.length)]:e),S=async(e,t)=>{t.dispatch("done"),await I("number"==typeof t.loop?t.loop:1500);const n=e.innerHTML.replaceAll("&amp;","&");for(let o=n.length-1;o>=0;o--)">"===n[o]&&(o=n.lastIndexOf("<",o)),e.innerHTML=n.slice(0,o),await I(t.interval)},F=async({currentNode:e,text:t},n)=>{e.classList.add("typing");for(let o=0;o<=t.length;o++)"<"===t[o]&&(o=t.indexOf(">",o)),e.innerHTML=t.slice(0,o),await I(n.interval);e.classList.replace("typing","finished-typing")};let B=[];const D=e=>{for(;;){const t=R(0,e.length),n="number"==typeof B&&t!==B;if(Array.isArray(B)&&!B.includes(t)||n)return n&&(B=[]),B.push(t),e[t];B.length===e.length&&(B=B.pop())}},q=async(e,{currentNode:t,text:n},o)=>{await F({currentNode:t,text:n},o);const r=n.replaceAll("&","&amp;");t.innerHTML===r&&await S(t,o)};var G=Object.freeze({__proto__:null,mode:async({node:e,elements:t},n)=>{for(;;)if(n.loop)for(const e of t)await q(0,e,n);else if(n.loopRandom){const e=D(t);await q(0,e,n)}}});const J=(e,[t,n])=>e>=t&&e<=n;let K=[];const Q=e=>K.find((t=>t.currentNode===e)),U=e=>{const t=(e=>{const t=/(<([^>]+)>)/g,n=[];let o;for(;null!==(o=t.exec(e.innerHTML));){const e=o.index,r=t.lastIndex;n.push([e,r-1])}return n})(e),n=e.innerHTML.split("").map(((n,o)=>{const{matchingLetters:r}=Q(e),c=r.includes(o)||n.match(/\s+/g)||((e,t)=>t.some((([t,n])=>J(e,[t,n]))))(o,t),i=String.fromCharCode(65+Math.round(50*Math.random()));return c?n:i})).join("");e.innerHTML=n},V=(e,t)=>{const n=e.innerHTML;for(let o=0;o<t.length;o++){const r=t[o],{matchingLetters:c}=Q(e);!c.includes(o)&&r===n[o]&&c.push(o)}};var W=Object.freeze({__proto__:null,mode:async({elements:e},t)=>{K=[...e.map((({currentNode:e})=>({currentNode:e,matchingLetters:[]})))],await new Promise((n=>{e.forEach((async({currentNode:e,text:o})=>{const r="number"==typeof t.scramble?t.scramble:3e3,c=(new Date).getTime();for(;;){U(e),V(e,o),await I(t.interval);const i=e.innerHTML!=o,s=(new Date).getTime()-c<r;if(!i||!s){n();break}}e.innerHTML=o}))})),t.dispatch("done")}});const X=(e,t)=>{new MutationObserver((e=>{e.forEach((e=>{const n="attributes"===e.type,o=!e.target.classList.contains("typing");n&&o&&t()}))})).observe(e,{attributes:!0,childList:!0,subtree:!0})};var Y=Object.freeze({__proto__:null,mode:async({elements:e},t)=>{if(t.cascade)(e=>{e.forEach((e=>e.currentNode.textContent=""))})(e);else{const{getLongestTextElement:n}=await Promise.resolve().then((function(){return ee})),o=n(e);X(o,(()=>t.dispatch("done")))}for(const n of e)t.cascade?await F(n,t):F(n,t);t.cascade&&t.dispatch("done")}});const Z=(e,t)=>t.text.length-e.text.length;var ee=Object.freeze({__proto__:null,cleanChildNodes:e=>e.childNodes.forEach((e=>e.remove())),createElement:C,getElements:H,hasSingleTextNode:A,rng:R,sleep:z,typingInterval:I,unwriteEffect:S,isInRange:J,writeEffect:F,getLongestTextElement:e=>e.sort(Z)[0].currentNode,onAnimationEnd:X,getRandomElement:D});return class extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){var t,n,o;super(),document.getElementById("svelte-153c48w-style")||((o=l("style")).id="svelte-153c48w-style",o.textContent="@keyframes svelte-153c48w-cursorFade{0%,100%{opacity:1}50%{opacity:0}}.typewriter-container.svelte-153c48w>*:not(.typing):not(.finished-typing){display:none}.typewriter-container.svelte-153c48w .finished-typing::after{content:none}.typewriter-container.svelte-153c48w .typing::after{content:'â–Œ';display:inline-block;color:var(--cursor-color);animation:svelte-153c48w-cursorFade 1.25s infinite}.delay.svelte-153c48w{visibility:hidden}",t=document.head,n=o,t.appendChild(n)),k(this,e,P,O,c,{interval:2,cascade:3,loop:4,loopRandom:5,scramble:6,cursor:0,delay:7})}}}));
